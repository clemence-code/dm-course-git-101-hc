---
title: "tydir 101"
author: "Cl√©mence HUANG"
format: html
editor: visual
---
```{r}
here::i_am("dm-course-git-101-hc.Rproj")
library(here)
```

```{r}
data("EuStockMarkets")
```

```{r}
library(ggplot2)
library(tidyr)
library(dplyr)
```

## Display one time series
```{r}
ggplot(EuStockMarkets,aes(y=DAX,x=time(EuStockMarkets))) +
  geom_line()
```

```{r}
EuStockMarkets <-
  EuStockMarkets |> 
  as_tibble() |>
  mutate(date = time(EuStockMarkets))
```


```{r}
ggplot(EuStockMarkets,aes(y=DAX,x=date)) +
  geom_line()
```

```{r}
ggplot(EuStockMarkets,aes(y=CAC,x=date)) +
  geom_line()
```

## Graphical reprensentation

### Poor man's solution
```{r}
ggplot(EuStockMarkets,aes(y=CAC,x=date)) +
  geom_line(color="skyblue") +
  geom_line(mapping=aes(y=DAX),color="salmon")
```

### Tidyr solution
```{r}
EuStockMarkets |>
  pivot_longer(!date,names_to ="index") |>
  slice_head(n = 10) |>
  knitr::kable()

```

```{r}
EuStockMarkets |>
  pivot_longer(!date,names_to ="index") |>
  ggplot(aes(x=date,y=value,color = index)) +
  geom_line()
```

